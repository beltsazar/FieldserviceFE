

<!--<pre>{{ctrl.worksheet | json}}</pre>-->


  <h1>Gebied #{{ctrl.worksheet.area.number}} {{ctrl.worksheet.area.city.name}}</h1>

  <p>Voor de {{ctrl.worksheet.iteration}}e keer aan het bewerken.</p>

  <form>

    <uib-accordion close-others="oneAtATime">
      <uib-accordion-group ng-repeat="group in ctrl.worksheet.groups" is-open="true">

        <uib-accordion-heading>
          {{group.street.name}} <span class="badge">4</span><i class="pull-right glyphicon" ng-class="{'glyphicon-chevron-down': status.open, 'glyphicon-chevron-right': !status.open}"></i>
        </uib-accordion-heading>

          <div class="row" style="margin-bottom:20px" ng-repeat="address in group.addresses" ng-if="ctrl.isVisible(address)">

            <div >

              <div class="col-xs-3 center-block text-center">
                <h4>{{address.number}}</h4>
              </div>

              <!--isVisited: {{ctrl.isVisited(address)}} -&#45;&#45; isEditable: {{ctrl.isEditable(address)}} -&#45;&#45; isVisible: {{ctrl.isVisible(address)}}-->

              <div class="col-xs-9">

                <div ng-show="ctrl.isVisited(address) && !ctrl.isEditable(address)">
                  <div class="btn-group btn-group-justified" role="group" aria-label="...">
                    <div class="btn-group btn-group-lg" role="group">
                      <button type="button" class="btn btn-default" ng-click="ctrl.openMenu(this);"><span ng-class="{'glyphicon glyphicon-user' : ctrl.isSuccess(address), 'glyphicon glyphicon-pencil' : !ctrl.isSuccess(address)}" aria-hidden="true"></span></button>
                    </div>
                  </div>
                </div>

                <div ng-show="ctrl.isEditable(address)">
                  <div class="btn-group btn-group-justified" role="group" aria-label="...">
                    <div class="btn-group btn-group-lg" role="group">
                      <button type="button" class="btn btn-success" ng-click="ctrl.createVisit(address, true);"><span class="glyphicon glyphicon-user" aria-hidden="true"></span></button>
                    </div>
                    <div class="btn-group btn-group-lg" role="group">
                      <button type="button" class="btn btn-info" ng-click="ctrl.createVisit(address, false);"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></button>
                    </div>
                    <div class="btn-group btn-group-lg" role="group">
                      <button type="button" class="btn btn-default" ng-click="ctrl.openMenu(this);"><span class="glyphicon glyphicon-menu-hamburger" aria-hidden="true"></span></button>
                    </div>
                  </div>
                </div>

              </div>

              <div class="col-xs-12" style="margin-top: 10px" ng-show="this.isMenuOpen">
                <!--<div class="panel panel-default">-->
                <ul class="list-group">
                  <li class="list-group-item" ng-repeat="visit in address.visits">

                    <span ng-if="visit.success" class="label label-success">aanwezig</span>
                    <span ng-if="!visit.success" class="label label-info">afwezig</span>
                    {{visit.creationDate}}
                    <span class="badge">{{visit.iteration}}</span>
                  </li>
                </ul>
                  <!--</div>-->

              </div>
            </div>
          </div>

      </uib-accordion-group>
    </uib-accordion>

  </form>


